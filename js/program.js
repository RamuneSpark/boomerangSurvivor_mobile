const screen=document.getElementById("screen");function setImage(e,t){let n=e.getElementsByTagName("img")[0];n||(n=document.createElement("img"),e.appendChild(n)),n.src!==t&&(n.src=t)}function setImageWidth(e,t,n){let i=e.getElementsByTagName("img")[0];i||(i=document.createElement("img"),e.appendChild(i)),i.src!==t&&(i.src=t),i.width!==n&&(i.width=n)}function setText(e,t){setText2(e,"<nobr>"+t+"</nobr>")}function setText2(e,t){e.innerHTML!=="<span>"+t+"</span>"&&(e.innerHTML="<span>"+t+"</span>")}function Remove(t){var n=t.childNodes;for(let e=n.length-1;0<=e;e--){var i=n[e];i.nodeType===Node.ELEMENT_NODE&&"img"===i.tagName.toLowerCase()?i.remove():i.nodeType===Node.ELEMENT_NODE&&"span"===i.tagName.toLowerCase()&&(t.innerHTML="")}}function putXY(e,t,n){"no"!==t&&(e.style.left=t),"no"!==n&&(e.style.top=n)}const Center="-50%",Left="0%",Top=Left,Right="-100%",Bottom=Right;function translate(e,t,n){e.style.transform="translate("+t+", "+n+") rotate(0deg) scale(100%)"}function transform(e,t,n,i,a){e.style.transform="translate("+t+", "+n+") rotate("+i+"deg) scale("+a+"%)"}function Rb(e,t){return"<ruby>"+e+"<rt>"+t+"</rt></ruby>"}function fontSet(e,t,n,i,a,o){"green"==t?t="#BFFFB0":"blue"==t?t="#AFD0FF":"red"==t?t="#FFC6BB":"sys"==t&&(t="#FFBCD3"),e.style.color!==t&&(e.style.color=t),e.style.fontFamily!==n&&(e.style.fontFamily=n),e.style.fontSize!==i&&(e.style.fontSize=i),e.style.fontWeight!==a&&(e.style.fontWeight=a),e.style.textAlign!==o&&(e.style.textAlign=o)}function fontColorSet(e,t){"green"==t?t="#BFFFB0":"blue"==t?t="#AFD0FF":"red"==t?t="#FFC6BB":"sys"==t&&(t="#FFBCD3"),e.style.color!==t&&(e.style.color=t)}function textEdge(e,n,i){if(0!=n){var a=[];for(let e=1;e<=n;e++)a[e]=Math.sqrt(e);"green"==i?i="#17890B":"blue"==i?i="#012DD4":"red"==i?i="#CE2807":"sys"==i&&(i="#CE1658");let t="";for(let e=1;e<=n;e++)t+=e+"px 0px 0px "+i+", "+-e+"px 0px 0px "+i+", 0px "+e+"px 0px "+i+", 0px "+-e+"px 0px "+i+",";for(let e=1;e<=n;e++)e!=n?t+=a[e]+"px "+a[e]+"px 0px "+i+", "+-a[e]+"px "+a[e]+"px 0px "+i+", "+a[e]+"px "+-a[e]+"px 0px "+i+", "+-a[e]+"px "+-a[e]+"px 0px "+i+",":t+=a[e]+"px "+a[e]+"px 0px "+i+", "+-a[e]+"px "+a[e]+"px 0px "+i+", "+a[e]+"px "+-a[e]+"px 0px "+i+", "+-a[e]+"px "+-a[e]+"px 0px "+i;e.style.textShadow!==t&&(e.style.textShadow=t)}else 0==n&&""!==e.style.textShadow&&(e.style.textShadow="")}let allDiv=[];function defaultSet(e,t){t.appendChild(e),allDiv.push(e),e.style.position="absolute"}let phone;function phoneCheck(){phone=!!navigator.userAgent.match(/iPhone|iPad|Android.+Mobile|Android/)}function Vector(e,t,n,i){var a={},n=n-e,e=i-t,i=n*n+e*e;return 0==(i=Math.sqrt(i))?(a.x=0,a.y=1,a.z=1,a.zz=0):(a.x=n/i,a.y=e/i,a.z=i,a.zz=i),a}function Vector2(e,t,n,i){var a={},n=n-e,e=i-t,i=n*n+e*e;return 0==(i=Math.sqrt(i))?(a.x=0,a.y=1,a.z=1,a.zz=0):(a.x=n,a.y=e,a.z=i,a.zz=i),a}function Vector3(e,t,n,i){n-=e,e=i-t;let a;return Math.abs(e)>Math.abs(n)?a=0<=e?"down":"up":Math.abs(e)<Math.abs(n)?a=0<n?"right":"left":((a=[])[0]="diagonal",a[1]=0<=e?"down":"up",a[2]=0<n?"right":"left"),console.log(a),a}function touch(e,t,n=null,i=null){let a=null;e.addEventListener("touchstart",function(e){e.preventDefault(),a=e.changedTouches[0].identifier,t(e)}),n&&e.addEventListener("touchmove",function(e){a===e.changedTouches[0].identifier&&n(e)}),i&&e.addEventListener("touchend",function(e){a===e.changedTouches[0].identifier&&i(e)})}function touchElement(e,t){var n=[];let i=!1,a=!1,o=!1;return n[1]=e.getBoundingClientRect(),n[2]=t.getBoundingClientRect(),n[1].top<n[2].top&&(n[2]=e.getBoundingClientRect(),n[1]=t.getBoundingClientRect()),n[2].bottom>n[1].top&&(i=!0),n[1]=e.getBoundingClientRect(),n[2]=t.getBoundingClientRect(),n[2].left<n[1].left&&(n[2]=e.getBoundingClientRect(),n[1]=t.getBoundingClientRect()),n[1].right>n[2].left&&(a=!0),o=1==a&&1==i}function touchElement2(e,t){var n=[],i=touchElement(e,t);let a=!1;n[1]=e.getBoundingClientRect(),n[2]=t.getBoundingClientRect();e=[];return e[1]={},e[2]={},1==i&&(e[1].y=(n[1].top+n[1].bottom)/2,e[2].y=(n[2].top+n[2].bottom)/2,e[1].x=(n[1].left+n[1].right)/2,e[2].x=(n[2].left+n[2].right)/2,a=Vector3(e[2].x,e[2].y,e[1].x,e[1].y)),a}function Random(e){let t;var n;return playerPlayState()?(n=(1103515245*(n=e%(e=2147483648))+12345)%e,(t=n/(e-1))<0?t=1-(t=(t*=-t)-Math.floor(t)):1<t&&(t-=Math.floor(t))):t=Math.random(),t}function Seed(e){let t;return(t=(t=((t=([55,82,10,92,44,88,73,25,2,98][player.speedLevel]+[35,91,16,48,22,104,37,54,0,130][player.weaponLevel]+[1,4,7,2,9][weapon.m])/([23,105][player.big]+[44,-33][player.heart])*100)+(commaTime*Math.PI+score/33))*e)*(1/(time.k+2)+.3))<0&&(t=-t,t=Math.sqrt(e)),t}function player_X_Random(){let t=0;var n=[33,66,28,462,509,33,129,77,30,303,625];for(let e=1;e<=10;e++)if(player.x<54*e){t=n[e];break}return t}phoneCheck();let userName=localStorage.getItem("boomerangSurvivorMobile_846472726013"),nameChange=(null===userName&&(userName="メイプル"),0);function clearCard(){0===nameChange?nameInput(0):getClearCard()}const swalWhite="#DDDDDD",swalBlack="#0A3952";function nameInput(e){Swal.fire({title:"ユーザーネーム入力",target:screen,html:'<p style="text-align: left; font-size:1.2em ">'+["記録カードに表示する名前を入れてください。","記録カードに表示する名前を入れてください。<br><span style='color: #FF0000;'>※16文字以上の名前は使用できません！</span>"][e]+"</p>",allowOutsideClick:!1,input:"text",inputValue:userName,showCancelButton:!0,confirmButtonText:"次へ",cancelButtonText:"キャンセル",confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",background:swalWhite,color:swalBlack,reverseButtons:!0,didOpen:()=>{Swal.getPopup().style.borderRadius="50px";var e=document.querySelector(".swal2-confirm"),e=(e.style.fontWeight="bold",e.style.fontSize="1.4em",e.style.color=swalWhite,document.querySelector(".swal2-cancel"));e.style.fontWeight="bold",e.style.fontSize="1.1em",e.style.color=swalWhite},showClass:{popup:`
            animate__animated
            animate__fadeInRight
            animate__faster
          `},hideClass:{popup:`
            animate__animated
            animate__fadeOutDown
            animate__faster
          `}}).then(e=>{e.isConfirmed&&e.value.length<=15?(soundCh[0]="ogg/se/confirm.ogg",userName=0!==e.value.length&&e.value.trim()?e.value:"メイプル",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutUp"),inputCheck()):e.isConfirmed?(soundCh[0]="ogg/se/confirm.ogg",userName=e.value,nameInput(1)):(Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutLeft"))})}function inputCheck(){Swal.fire({title:"確認",target:screen,html:'<p style="text-align: left; font-size:1.2em "><span style="font-weight: bold ;color: #396894;">'+userName+"</span><br><br>上記の名前で記録カードを作成します。<br>よろしいですか？</p>",allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"はい！",cancelButtonText:"キャンセル",confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",background:swalWhite,color:swalBlack,reverseButtons:!0,didOpen:()=>{Swal.getPopup().style.borderRadius="50px";var e=document.querySelector(".swal2-confirm"),e=(e.style.fontWeight="bold",e.style.fontSize="1.4em",e.style.color=swalWhite,document.querySelector(".swal2-cancel"));e.style.fontWeight="bold",e.style.fontSize="1.1em",e.style.color=swalWhite},showClass:{popup:`
            animate__animated
            animate__fadeInRight
            animate__faster
          `},hideClass:{popup:`
            animate__animated
            animate__fadeOutDown
            animate__faster
          `}}).then(e=>{e.isConfirmed?(soundCh[0]="ogg/se/confirm.ogg",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutUp"),nameChange=1,localStorage.setItem("boomerangSurvivorMobile_846472726013",userName),getClearCard()):(Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutLeft"),nameInput(0))})}async function getClearCard(){button[2].opacity=.31;var e=document.createElement("canvas");const o=e.getContext("2d");e.width=1200,e.height=675;let t,r=[t=surviveTime()===60*startMinute?"image/clearCard/"+startMinute+"m_clear.jpg":"image/clearCard/"+startMinute+"m_miss.jpg"];const m=["C"],d=[{x:600,y:337.5}];for(let a=0;a<r.length;a++)await new Promise((n,e)=>{const i=new Image;i.onload=function(){let e;"C"===m[a]?e=d[a].x-i.width/2:"L"===m[a]?e=d[a].x:"R"===m[a]&&(e=d[a].x-i.width);var t=d[a].y-i.height/2;o.drawImage(i,e,t,i.width,i.height),n()},i.onerror=e,i.src=r[a]});var n=[];surviveTime()===60*startMinute?o.fillStyle="#396894":o.fillStyle="#7835A3",o.strokeStyle="#FFFFFF",o.lineJoin="round",o.lineWidth=14,o.font="bold 55px Higashi",o.textAlign="right",o.textBaseline="top",n[0]=scoreSet(),o.strokeText(n[0],540,345),o.fillText(n[0],540,345),o.lineWidth=7,o.font="bold 30px Higashi",o.textAlign="right",o.textBaseline="bottom",n[1]=userName,o.strokeText(n[1],1175,577),o.fillText(n[1],1175,577),n[2]=displayDate(1),o.strokeText(n[2],1175,544),o.fillText(n[2],1175,544),o.font="bold 25px Higashi",o.textAlign="right",o.textBaseline="top",o.fillStyle="#FFFFFF";let i;i=surviveTime()===60*startMinute?"最後までクリアー":"残りタイム　"+timeTextDisplay(time.p),n[3]=i,o.fillText(n[3],1175,100);n=document.createElement("a");n.download="boomerangSurvivorMobile_ClearCard_"+displayDate(0)+".jpg",n.href=e.toDataURL("image/jpeg",.6),n.click(),setTimeout(()=>{button[2].opacity=1},1e3)}let dateInfo=getDate();function displayDate(e){var t=dateInfo;return 1===e?t.y+"-"+t.m+"-"+t.d+" ["+t.day+"] "+t.ampm+" "+t.hour+":"+t.minute:0===e?t.y+"-"+t.m+"-"+t.d+"_"+t.h+"-"+t.minute:void 0}function getDate(){var e={},t=new Date;return e.y=getLastFourDigits(t.getFullYear()),e.m=t.getMonth()+1,e.d=t.getDate(),e.day=["SUN","MON","TUE","WED","THU","FRI","SAT"][t.getDay()],e.h=t.getHours(),e.hour=e.h%12,e.ampm=["AM","PM"][Math.floor(e.h/12)],e.minute=t.getMinutes(),1e4<=e.y&&(e.y=9999),e.y<10&&(e.y="0"+e.y),e.m<10&&(e.m="0"+e.m),e.hour<10&&(e.hour="0"+e.hour),e.h<10&&(e.h="0"+e.h),e.minute<10&&(e.minute="0"+e.minute),e}function getLastFourDigits(e){let t=e.toString().slice(-4);for(;t.length<4;)t="0"+t;return t}function animeFrame(e,t,n){return e.k++,e.k>=t&&(e.k=0,e.p++),e.p>=n&&(e.p=0),e}function animeFrameEnd(e,t,n,i){return e.k++,e.k>=t&&(e.k=0,e.p++),e.p>=n&&(e.p=0,e.k=0,i()),e}function frameReset(e){return e.p=0,e.k=0,e}let sound=0,audioContext=null,channels=[],soundCh=[];for(let e=0;e<9;e++)channels[e]=null,soundCh[e]=null;function soundPlayer(){if(1===sound)for(let e=0;e<9;e++)null!==soundCh[e]&&("stop"===soundCh[e]?stopSound(e):"ogg/se/confirm.ogg"===soundCh[e]||"ogg/se/select.ogg"===soundCh[e]||"ogg/se/throw.ogg"===soundCh[e]||"ogg/se/item.ogg"===soundCh[e]||"ogg/se/defeatEnemy.ogg"===soundCh[e]?playSound(e,soundCh[e],1,!1):"ogg/se/miss.ogg"===soundCh[e]?playSound(e,soundCh[e],.51,!1):"ogg/bgm/main.ogg"===soundCh[e]||"ogg/bgm/result.ogg"===soundCh[e]?playSound(e,soundCh[e],.48,!0):"ogg/se/twinkle.ogg"===soundCh[e]?playSound(e,soundCh[e],.5,!1):"ogg/se/pause.ogg"===soundCh[e]||"ogg/se/finish.ogg"===soundCh[e]?playSound(e,soundCh[e],.7,!1):"ogg/se/scoreOK.ogg"===soundCh[e]&&playSound(e,soundCh[e],.9,!1),soundCh[e]=null);else for(let e=0;e<9;e++)soundCh[e]=null}function playSound(n,e,i,a){null!==channels[n]&&1!==channels[n]&&stopSound(n),channels[n]=1,fetch(e).then(e=>e.arrayBuffer()).then(e=>audioContext.decodeAudioData(e)).then(e=>{var t=audioContext.createBufferSource(),e=(t.buffer=e,t.loop=a,audioContext.createGain());e.gain.value=i,t.connect(e),e.connect(audioContext.destination),(channels[n]=t).start(0),t.onended=()=>{channels[n]=null}}).catch(e=>console.error("Error fetching or decoding audio:",e))}function stopSound(e){channels[e]&&(channels[e].stop(),channels[e]=null)}screen.style.opacity=1;let scene,nextScene=void 0,bs=101,shift=0,change=0,change_level=.1,change_time=0;function blackout(){100==(bs=null!=nextScene&&100!=bs&&101!=bs&&-100!=bs&&-99!=bs&&-98!=bs?100:bs)?(change-=change_level)<=0&&(change=0,bs=101):101==bs?1<=++change_time&&(scene=nextScene,change_time=0,bs=-100,shift=0,RemoveAll()):-100==bs?2===loadMark&&2===loadMarkSound&&setTimeout(()=>{bs=-99,loadMark=0,loadMarkSound=0},100):-99==bs&&1<=(change+=change_level)&&(change=1,bs=0,nextScene=void 0),screen.style.opacity=change}function load(e){if(0===loadMark)if(null!==e){loadMark=1;let i=0;const a=e.length,o=[];e.forEach((e,t)=>{const n=new Image;n.src=e,n.onload=()=>{i++,o[t]=n,i>=a&&(loadMark=2)},n.onerror=()=>{console.log("ロード失敗: "+e)}})}else loadMark=2}function load2(e){if(null!==e){let i=0;const a=e.length,o=[];e.forEach((e,t)=>{const n=new Image;n.src=e,n.onload=()=>{i++,o[t]=n,i,a},n.onerror=()=>{console.log("ロード失敗: "+e)}})}}function loadSound(e){0===loadMarkSound&&(null!==e&&1===sound?(e=e.map(e=>fetch(e).then(e=>e.arrayBuffer()).then(e=>audioContext.decodeAudioData(e))),loadMarkSound=1,Promise.all(e).then(()=>{loadMarkSound=2}).catch(e=>{console.error("Error loading audio files:",e)})):loadMarkSound=2)}function loadSound2(e){1===sound&&(null===audioContext&&(audioContext=new(window.AudioContext||window.webkitAudioContext)),e=e.map(e=>fetch(e).then(e=>e.arrayBuffer()).then(e=>audioContext.decodeAudioData(e))),Promise.all(e).then(()=>{}).catch(e=>{console.error("Error loading audio files:",e)}))}let loadMark=0,loadMarkSound=0;function beforeScene(){return-100===bs||101===bs}let mouseX,mouseY,mouseC="no";screen.addEventListener("mousedown",e=>{mouseC="click!"}),screen.addEventListener("mouseup",e=>{mouseC="no"}),screen.addEventListener("mousemove",e=>{e.preventDefault,mouseX=e.offsetX,mouseY=e.offsetY});const fps=50,fps2=1e3/fps;function move(){monitorResize(),run(),blackout(),soundPlayer(),!1===phone&&redirectPC()}document.write("<div id= touchScreen> </div>");const div_touchScreen=document.getElementById("touchScreen");defaultSet(div_touchScreen,screen),putXY(div_touchScreen,"50%","100%"),translate(div_touchScreen,Center,Bottom),div_touchScreen.style.zIndex=0,div_touchScreen.style.overflow="hidden",setImage(div_touchScreen,"");let touchScreenY=100;document.write("<div id= touchScreenBG> </div>");const div_touchScreenBG=document.getElementById("touchScreenBG");defaultSet(div_touchScreenBG,div_touchScreen),putXY(div_touchScreenBG,"50%","100%"),translate(div_touchScreenBG,Center,Bottom),div_touchScreenBG.style.zIndex=0,div_touchScreenBG.style.overflow="hidden",setImage(div_touchScreenBG,"");let touchMark={x:null,y:null};document.write("<div id= touchWidthMark> </div>");const div_touchWidthMark=document.getElementById("touchWidthMark"),div_touchHeightMark=(defaultSet(div_touchWidthMark,div_touchScreen),putXY(div_touchWidthMark,"50%","50%"),translate(div_touchWidthMark,Center,Center),div_touchWidthMark.style.zIndex=3,setImage(div_touchWidthMark,""),document.write("<div id= touchHeightMark> </div>"),document.getElementById("touchHeightMark")),div_touchScreenPause=(defaultSet(div_touchHeightMark,div_touchScreen),putXY(div_touchHeightMark,"50%","50%"),translate(div_touchHeightMark,Center,Center),div_touchHeightMark.style.zIndex=3,setImage(div_touchHeightMark,""),document.write("<div id= touchScreenPause> </div>"),document.getElementById("touchScreenPause"));defaultSet(div_touchScreenPause,div_touchScreen),putXY(div_touchScreenPause,"50%","0%"),translate(div_touchScreenPause,Center,Bottom),div_touchScreenPause.style.zIndex=1e3,div_touchScreenPause.style.overflow="hidden",setImage(div_touchScreenPause,"");let throwButton={},touchNow=0;function useTouchDisplay(){-100===bs&&(screen.appendChild(div_touchScreen),translate(div_touchScreen,Center,Bottom),div_touchScreen.style.transformOrigin="center",putXY(div_touchScreen,"50%","100%"),touchMark={x:null,y:null,lx:null,ly:null},setImage(div_touchScreen,"image/touchScreenBase.webp"),setImageWidth(div_touchScreenPause,"image/touchScreenPause.webp",540),touchNow=0),null===touchMark.x||null===touchMark.y?(Remove(div_touchWidthMark),Remove(div_touchHeightMark)):(putXY(div_touchWidthMark,touchMark.x+"px","50%"),putXY(div_touchHeightMark,"50%",touchMark.y+"px"),setImage(div_touchWidthMark,"image/touchWidthMark.webp"),setImage(div_touchHeightMark,"image/touchHeightMark.webp")),0===pause?touchScreenY=0:1===pause?100<=(touchScreenY+=7)&&(touchScreenY=100,pause=2):3===pause&&(touchScreenY-=7)<=0&&(touchScreenY=0,pause=0),putXY(div_touchScreenPause,"50%",touchScreenY+"%"),setImage(div_touchScreenBG,"image/touchScreen.webp")}function touchShot(){touchMark.y-touchMark.ly<-8&&(Math.abs(touchMark.x-touchMark.lx)<20||Math.abs(touchMark.x-touchMark.lx)*Math.tan(Math.PI/180*38)<Math.abs(touchMark.y-touchMark.ly))&&(0!==weapon.m&&3!==weapon.m||(weapon.m=1,weapon.stop=5))}function touchScreenEnd(){touchNow=4*fps,touchMark={x:null,y:null},"walk"==player.state&&(player.state="stop"),3===weapon.m&&(weapon.m=0)}function touchScreenLocation(e,t){var n={},i=div_touchScreen.getBoundingClientRect(),a=div_touchScreen.offsetWidth/i.width,o=div_touchScreen.offsetHeight/i.height,a=(e.changedTouches[0].clientX-i.left)*a,e=(e.changedTouches[0].clientY-i.top)*o;return null!==t?(n.lx=t.x,n.ly=t.y):(n.lx=a,n.ly=e),n.x=a,n.y=e,n}touch(div_touchScreen,e=>{0===pause&&"game"===scene&&(touchNow=1e4,e=touchScreenLocation(e,null),touchMark=e)},e=>{0===pause&&"game"===scene&&(touchMark=touchScreenLocation(e,touchMark),touchShot())},()=>{"game"===scene&&touchScreenEnd()});const buttonMax=12,shareButton=6;function allButtonLength(){return buttonMax+shareButton}let button=[],div_button=[];for(let e=0;e<allButtonLength();e++)button[e]={x:0,y:0,m:0,filter:0,hit:0,opacity:1},document.write("<div id= button"+e+"> </div>"),div_button[e]=document.getElementById("button"+e),defaultSet(div_button[e],screen),putXY(div_button[e],100,100*e),translate(div_button[e],Center,Center),div_button[e].style.zIndex=50,div_button[e].style.mixBlendMode="normal",setImage(div_button[e],"");for(let t=0;t<allButtonLength();t++)touch(div_button[t],e=>{0===bs&&button[t].filter<=0&&1===button[t].m&&1<=button[t].opacity&&(button[t].filter=1,button[t].hit=1)},e=>{},()=>{});function xy_Button(e,t){putXY(div_button[e],t[0],t[1])}function tapButton(e,t){1===button[e].hit?(t(),button[e].hit=0):(button[e].filter-=.1,button[e].filter<=0&&(button[e].filter=0))}function setButton(t){for(let e=0;e<buttonMax;e++)e<t?button[e].m=1:button[e].m=0;for(let e=0;e<buttonMax;e++)0===button[e].m?Remove(div_button[e]):(div_button[e].style.filter="brightness("+(1+.3*button[e].filter)+")",putXY(div_button[e],button[e].x,button[e].y))}function allButtonReset(){for(let e=0;e<allButtonLength();e++)button[e].filter=0,button[e].hit=0,button[e].opacity=1}const title="ブーメランサバイバー モバイル",shareURL="https://ramunespark.github.io/boomerangSurvivor_mobile/";function shareContent(e,t){navigator.share&&navigator.share({title:e,url:t}).then(()=>{}).catch(console.error)}function setShareButton(t){for(let e=buttonMax;e<allButtonLength();e++){var n=e-buttonMax;button[e].m=1,button[e].opacity+=.1,1<=button[e].opacity&&(button[e].opacity=1),xy_Button(e,[function(e){let t;return e%3==0?t=20:e%3==1?t=50:e%3==2&&(t=80),t}(n)+"%",70*Math.floor(n/3)+t]),div_button[e].style.opacity=button[e].opacity,div_button[e].style.filter="brightness("+(1+.3*button[e].filter)+")",0==n&&"title"!==scene?setImageWidth(div_button[e],"image/button/shareButton"+n+"r.webp",100):setImageWidth(div_button[e],"image/button/shareButton"+n+".webp",100)}var e=buttonMax;tapButton(e,()=>{soundCh[0]="ogg/se/confirm.ogg","title"===scene?setTimeout(()=>{shareContent(title,shareURL)},30):setTimeout(()=>{copyText(gameShare(!0))},30)}),tapButton(e+1,()=>{soundCh[0]="ogg/se/confirm.ogg",setTimeout(()=>{blueskyShare(gameShare(!0))},30)}),tapButton(e+2,()=>{soundCh[0]="ogg/se/confirm.ogg",setTimeout(()=>{twitterShare(gameShare(!0))},30)}),tapButton(e+3,()=>{soundCh[0]="ogg/se/confirm.ogg",setTimeout(()=>{misskeyShare(gameShare(!0))},30)}),tapButton(e+4,()=>{soundCh[0]="ogg/se/confirm.ogg",setTimeout(()=>{taittsuShare(gameShare(!0))},30)}),tapButton(e+5,()=>{soundCh[0]="ogg/se/confirm.ogg",setTimeout(()=>{lineShare(gameShare(!1))},30)})}function shareContent(e,t){navigator.share&&navigator.share({title:e,url:t}).then(()=>{}).catch(console.error)}function blueskyShare(e){let t=encodeURIComponent(e);setTimeout(()=>{window.open("https://bsky.app/intent/compose?text="+t,"_blank")},300)}function twitterShare(e){let t=encodeURIComponent(e);setTimeout(()=>{window.open("https://x.com/intent/post?text="+t,"_blank")},300)}function misskeyShare(e){let t=encodeURIComponent(e);setTimeout(()=>{window.open("https://misskeyshare.link/share.html?text="+t,"_blank")},300)}function taittsuShare(e){let t=encodeURIComponent(e);setTimeout(()=>{window.open("https://taittsuu.com/share?text="+t,"_blank")},300)}function lineShare(e){let t=encodeURIComponent(e);setTimeout(()=>{window.open("https://line.me/R/share?text="+t,"_blank")},300)}function gameShare(t){let n;if("title"===scene)n=t?title+"\n"+shareURL+"\n\n#ブーサバモバイル":title+"\n"+shareURL+"\n";else if("result"===scene){let e;e=surviveTime()===60*startMinute?"最後までクリアー":"残りタイム"+timeInfo(time.p).m+"分"+timeInfo(time.p).s+"秒で やられた！",n=t?title+"\n"+shareURL+"\n\n【モード】"+startMinute+"分モード\n【結果】"+e+"\n【スコア】"+scoreSet()+"\n#ブーサバモバイル":title+"\n"+shareURL+"\n\n【モード】"+startMinute+"分モード\n【結果】"+e+"\n【スコア】"+scoreSet()}return n}function copyText(e){e=new Blob([e],{type:"text/plain"}),e=[new ClipboardItem({"text/plain":e})];navigator.clipboard.write(e).then(function(){},function(){})}function howToPlaySet(){touchMark={x:null,y:null},playerDefault(),weaponDefault(),fingerDefault(),enemyDefault(),itemDefault(),load2(["image/touchWidthMark.webp","image/touchHeightMark.webp","image/touchScreen.webp","image/walk_leftMini.png","image/walk_rightMini.png","image/maple_up0.webp","image/maple_left0.webp","image/maple_left1.webp","image/maple_left2.webp","image/maple_left3.webp","image/maple_right0.webp","image/maple_right1.webp","image/maple_right2.webp","image/maple_right3.webp","image/maple_miss0.webp","image/maple_miss1.webp","image/item/0.png","image/item/1.png","image/enemy/0_0.webp","image/enemy/0_1.webp","image/enemy/1_0.webp","image/enemy/1_1.webp","image/enemy/1_2.webp","image/enemy/1_3.webp","image/enemy/0_D.webp","image/enemy/1_D.webp","image/enemy/D_0.webp","image/enemy/D_1.webp","image/enemy/D_2.webp","image/shadow.png","image/weapon.png","image/finger/f.webp","image/finger/shadow.png"]);var e=howToPage;0===e&&(fing.m=0),5===e?(div_gameScreen.appendChild(div_finger),div_gameScreen.appendChild(div_fShadow),fing.x=420,fing.y=540,fing.t=1):(div_touchScreen.appendChild(div_finger),div_touchScreen.appendChild(div_fShadow))}let howToPage=0,howTo=0,hShift=0;const howToMessage=[["1.ゲーム説明","主人公のメイプルを操作し、ブーメランで敵を倒すアクションゲームです。<br>設定したタイム（2分または5分）をプレイして、時間いっぱいハイスコアを目指しましょう。"],["2.移動","タッチエリアをタップすると、その場所に並ぶようにメイプルが自動的に左右に歩きます。"],["3.ブーメランを投げる","タッチエリアで上方向にフリックすると、ブーメランを投げて敵を攻撃することができます。<br>1回のブーメランで2体以上の敵を倒すと、より高得点となります。"],["4.アイテム","直接触れるか、ブーメランを当てることで獲得することができます。<br>移動速度が上がる「スピードアップ」をはじめ、様々なアイテムが登場します。"],["5.ミス","敵に直接触れてしまうとミスとなります。<br>ミスになった場合は残り時間に関わらずゲーム終了となってしまうので、注意しましょう。"],["6.補足","ゲーム画面の下半分をタップすると、フリックをせずにブーメラン攻撃ができます。<br>タッチエリアに触れないため、移動せずにブーメランを投げたい場合に向いています。"]];function howToPlay(n){let e="すすむ",t="もどる";howToPage>=howToMessage.length-1?e="おわる":0===howToPage&&(t="やめる"),Swal.fire({title:'<p style="margin-top: 580px; margin-bottom: 0px;">'+howToMessage[howToPage][0]+"</p>",target:screen,html:'<p style="text-align: left; font-size:1.2em;margin-top: 0px; ">'+howToMessage[howToPage][1]+"</p>",allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:e,cancelButtonText:t,confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",background:swalWhite,color:swalBlack,reverseButtons:!0,didOpen:()=>{howToPlaySet(),hShift=0;var e=Swal.getPopup(),t=document.getElementById("swal2-html-container"),t=(e.classList.remove("animate__fadeInDown"),"R"===n?e.classList.add("animate__fadeInRight"):e.classList.add("animate__fadeInLeft"),setImage(div_gameScreen,"image/gameScreen.webp"),t.appendChild(div_gameScreen),div_gameScreen.style.transformOrigin="top center",putXY(div_gameScreen,"50%",20),transform(div_gameScreen,Center,Top,0,55),setImage(div_touchScreen,"image/touchScreenBase.webp"),t.appendChild(div_touchScreen),div_touchScreen.style.transformOrigin="top center",transform(div_touchScreen,Center,Top,0,55),putXY(div_touchScreen,"50%",360),setImageWidth(div_gameBG,"image/gameBGmini.webp",540),e.style.borderRadius="50px",document.querySelector(".swal2-confirm")),e=(t.style.fontWeight="bold",t.style.fontSize="1.1em",t.style.color=swalWhite,document.querySelector(".swal2-cancel"));e.style.fontWeight="bold",e.style.fontSize="1.1em",e.style.color=swalWhite,howTo=1},showClass:{popup:`
      animate__animated
      animate__fadeInDown
      animate__faster
    `},hideClass:{popup:`
            animate__animated
            animate__fadeOutDown
            animate__faster
          `}}).then(e=>{e.isConfirmed?(soundCh[0]="ogg/se/confirm.ogg",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutLeft"),fingerDelete(),howTo=0,++howToPage>=howToMessage.length?nextScene="title":howToPlay("R")):(soundCh[0]="ogg/se/confirm.ogg",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutRight"),fingerDelete(),howTo=0,--howToPage<0?nextScene="title":howToPlay("L"))})}function howToLoop(){howToSP(),finger(),useTouchDisplay(),playerDisplay(),weaponDisplay(),itemDisplay(),enemyDisplay()}function howToSP(){var e=howToPage;1===e?0===hShift||5===hShift?(fing.x-=3,fing.x<=150&&(fing.x=150,fing.h-=5,fing.h<=0)&&(fing.h=0,player.x===touchMark.x)&&hShift++):1===hShift||3===hShift||8===hShift?(fing.h+=5,70<=fing.h&&(hShift++,fing.h=70,8<hShift)&&(hShift=0)):2===hShift||6===hShift?(fing.x+=3,390<=fing.x&&(fing.x=390,fing.h-=5,fing.h<=0)&&(fing.h=0,player.x===touchMark.x)&&hShift++):4===hShift?(fing.h-=5,fing.h<=0&&(fing.h=0,hShift=5)):7===hShift&&(fing.x-=3,fing.x<=270)&&(fing.x=270,player.x<=270)&&(hShift=8):2===e?0===hShift?0===enemy[0].m&&(enemy[0].type=0,enemy[0].m=2,enemy[0].vec=0,enemy[0].dVec="none",enemy[0].mVec=orVec(enemy[0].vec),enemy[0].x=600,enemy[0].y=370,enemy[0].v=1.7,hShift=1):1===hShift?Math.abs(enemy[0].x-player.x)<=45&&(fing.h-=5,fing.h<=0)&&(fing.h=0,hShift++):2===hShift?(fing.y-=12,fing.y<=180&&(fing.y=180,hShift++)):3===hShift&&(fing.h+=5,70<=fing.h)&&(fing.h=70,fing.y+=3,320<=fing.y)&&(fing.y=320,hShift=0):3===e?0===hShift?0===item[0].m&&(item[0].v=3*.7,item[0].fx=180,item[0].x=item[0].fx,item[0].y=-30,item[0].m=1,item[0].time=0,item[0].r=Math.PI/2,hShift=1):1===hShift?(fing.x-=3,fing.x<=180&&(fing.x=180,fing.h-=5,fing.h<=0)&&(fing.h=0,1===item[0].m&&Math.abs(item[0].x-player.x)<=10&&300<=item[0].y&&player.speedLevel%2==0?hShift++:0===item[0].m&&(hShift=3))):2===hShift?(fing.y-=12,fing.y<=180&&(fing.y=180,hShift++)):3===hShift?(fing.y+=7,fing.x+=13,320<=fing.y&&(fing.y=320),390<=fing.x&&(fing.x=390)<=player.x&&hShift++):4===hShift&&(fing.y+=7,fing.x-=13,320<=fing.y&&(fing.y=320),fing.x<=270&&(fing.x=270),player.x<=270)&&(hShift=0):4===e?0===hShift?0===enemy[0].m&&(enemy[0].type=1,enemy[0].m=2,enemy[0].vec="down",enemy[0].dVec="none",enemy[0].mVec="down",enemy[0].x=450,enemy[0].y=170,enemy[0].v=2,hShift=1):1<=hShift&&(250<=enemy[0].y&&(fing.x+=5),450<=fing.x&&(fing.x=450,playerPlayState()&&(fing.h-=5),fing.h<=0)&&(fing.h=0),!1===playerPlayState()&&(fing.h+=5,70<=fing.h)&&(fing.h=70),"miss3"===player.state)&&20<=++hShift&&(hShift=0,howToPlaySet()):5===e&&(0===hShift?0===enemy[0].m&&(enemy[0].type=0,enemy[0].m=2,enemy[0].vec=1,enemy[0].dVec="none",enemy[0].mVec=orVec(enemy[0].vec),enemy[0].x=-60,enemy[0].y=380,enemy[0].v=1.7,hShift=1):1===hShift?(0===enemy[1].m&&2===enemy[0].m&&-20<=enemy[0].x&&(enemy[1].type=0,enemy[1].m=2,enemy[1].vec=1,enemy[1].dVec="none",enemy[1].mVec=orVec(enemy[1].vec),enemy[1].x=-60,enemy[1].y=340,enemy[1].v=1.7),Math.abs(enemy[0].x-player.x)<=45&&(fing.h-=5,fing.h<=0)&&(fing.h=0,hShift++)):2===hShift&&(fing.h+=5,70<=fing.h)&&(fing.h=70,hShift=0))}document.write("<div id= gameScreen> </div>");const div_gameScreen=document.getElementById("gameScreen"),div_gameBG=(defaultSet(div_gameScreen,screen),putXY(div_gameScreen,"50%","0%"),translate(div_gameScreen,Center,Top),div_gameScreen.style.zIndex=1e3,div_gameScreen.style.overflow="hidden",setImage(div_gameScreen,""),document.write("<div id= gameBG> </div>"),document.getElementById("gameBG"));defaultSet(div_gameBG,div_gameScreen),putXY(div_gameBG,"50%","0%"),translate(div_gameBG,Center,Top),div_gameBG.style.zIndex=0,div_gameBG.style.overflow="hidden",setImage(div_gameBG,"");let finish=0,finishX=636;document.write("<div id= gameFinish> </div>");const div_gameFinish=document.getElementById("gameFinish"),gameZbase=(defaultSet(div_gameFinish,div_gameScreen),putXY(div_gameFinish,"50%","0%"),translate(div_gameFinish,Center,Center),div_gameFinish.style.zIndex=7e4,div_gameFinish.style.overflow="hidden",setImage(div_gameFinish,""),100);let bonus=[0,0],chainHit=0;function sGame(){-100===bs&&(load(["image/gameBGmini.webp","image/touchWidthMark.webp","image/touchHeightMark.webp","image/touchScreen.webp","image/walk_leftMini.png","image/walk_rightMini.png","image/maple_up0.webp","image/maple_left0.webp","image/maple_left1.webp","image/maple_left2.webp","image/maple_left3.webp","image/maple_right0.webp","image/maple_right1.webp","image/maple_right2.webp","image/maple_right3.webp","image/maple_miss0.webp","image/maple_miss1.webp","image/status.webp","image/time.webp","image/item/0.png","image/item/1.png","image/item/2.png","image/item/2s.png","image/item/3.png","image/item/3s.png","image/item/4.png","image/item/5.png","image/item/6.png","image/item/7.png","image/item/f.png","image/item/0s.png","image/item/1s.png","image/enemy/0_0.webp","image/enemy/0_1.webp","image/enemy/1_0.webp","image/enemy/1_1.webp","image/enemy/1_2.webp","image/enemy/1_3.webp","image/enemy/2_0.webp","image/enemy/2_1.webp","image/enemy/2_2.webp","image/enemy/2_3.webp","image/enemy/3_0.webp","image/enemy/3_1.webp","image/enemy/3_2.webp","image/enemy/4_0.webp","image/enemy/4_1.webp","image/enemy/0_D.webp","image/enemy/1_D.webp","image/enemy/2_D.webp","image/enemy/3_D.webp","image/enemy/D_0.webp","image/enemy/D_1.webp","image/enemy/D_2.webp","image/shadow.png","image/weapon.png","image/enemy/4allow.webp"]),loadSound(["ogg/se/throw.ogg","ogg/se/item.ogg","ogg/bgm/main.ogg","ogg/se/defeatEnemy.ogg","ogg/se/miss.ogg","ogg/se/twinkle.ogg","ogg/se/pause.ogg"]),screen.appendChild(div_gameScreen),putXY(div_gameScreen,"50%","0%"),div_gameScreen.style.transformOrigin="center",translate(div_gameScreen,Center,Top),setImage(div_gameScreen,"image/gameScreen.webp"),div_gameScreen.style.zIndex=0,setImage(div_gameStatus,"image/status.webp"),allButtonReset(),pause=0,touchScreenEnd(),bonus=[0,0],chainHit=0,finish=0,setImageWidth(div_gameBG,"image/gameBGmini.webp",540)),playerPlayState()&&0<time.p?(setButton(1),xy_Button(0,[40,40/60*40]),tapButton(0,()=>{0===pause?(pause=1,soundCh[6]="ogg/se/pause.ogg"):2===pause&&(pause=3,soundCh[6]="ogg/se/pause.ogg")}),setImageWidth(div_button[0],"image/button/pauseButton.png",80)):(allButtonReset(),setButton(0),10!=pause&&(pause=0)),timeDisplay(),scoreDisplay(),itemStatusDisplay(),useTouchDisplay(),1==time.p&&10==time.k&&playerPlayState()&&loadSound2(["ogg/se/finish.ogg"]),12==time.p&&45==time.k&&playerPlayState()&&loadSound2(["ogg/se/select.ogg"]),0<time.p&&time.p<=9&&0==time.k&&playerPlayState()&&(soundCh[5]="ogg/se/select.ogg"),time.p<=0&&0===pause&&0===finish&&(pause=10,finish=1,finishX=636,soundCh[8]="ogg/se/finish.ogg"),1===finish&&((finishX-=15)<=270&&(finishX=270,finish=2),putXY(div_gameFinish,finishX,"50%"),setImageWidth(div_gameFinish,"image/finish.webp",192)),2===finish&&(shift+=.5),0===pause&&(playerDisplay(),weaponDisplay(),itemDisplay(),enemyDisplay()),30<=shift&&0===bs&&(nextScene="result",dateInfo=getDate()),null===channels[8]&&playerPlayState()&&0<time.p&&-100!==bs&&(soundCh[8]="ogg/bgm/main.ogg")}let pause=0;function touchGameScreenLocation(e){var t={},n=div_gameScreen.getBoundingClientRect(),i=div_gameScreen.offsetWidth/n.width,a=div_gameScreen.offsetHeight/n.height,i=(e.changedTouches[0].clientX-n.left)*i,e=(e.changedTouches[0].clientY-n.top)*a;return t.x=i,t.y=e,t}touch(div_gameScreen,e=>{0===pause&&"game"===scene&&300<=touchGameScreenLocation(e).y&&(0!==weapon.m&&3!==weapon.m||(weapon.m=1,weapon.stop=5))},e=>{},e=>{}),document.write("<div id= logo> </div>");const div_logo=document.getElementById("logo"),div_copyRight=(defaultSet(div_logo,screen),putXY(div_logo,"50%","20%"),translate(div_logo,Center,Center),div_logo.style.zIndex=10,setImage(div_logo,""),document.write("<div id= copyRight> </div>"),document.getElementById("copyRight")),div_copyRight2=(defaultSet(div_copyRight,screen),putXY(div_copyRight,"98%","78%"),translate(div_copyRight,Right,Bottom),fontSet(div_copyRight,"#A5F6EC","Higashi","25","bold","right"),textEdge(div_copyRight,3,"#10897A"),div_copyRight.style.zIndex=100,setText(div_copyRight,""),document.write("<div id= copyRight2> </div>"),document.getElementById("copyRight2"));defaultSet(div_copyRight2,screen),putXY(div_copyRight2,"98%","81%"),translate(div_copyRight2,Right,Bottom),fontSet(div_copyRight2,"#A5F6EC","Higashi","20","bold","right"),textEdge(div_copyRight2,3,"#10897A"),div_copyRight2.style.zIndex=100,setText(div_copyRight2,"");let easy=0,soundSprite;function sTitle(){-100===bs&&(soundSprite={p:0,k:0},load(["image/titleMini.webp","image/logo.webp","image/button/startButton.webp","image/button/howButton.webp","image/button/hiButton.webp","image/button/2mButton.webp","image/button/5mButton.webp","image/button/0sound0.png","image/button/1sound0.png","image/button/1sound1.png","image/button/1sound2.png","image/button/shareButton0.webp","image/button/shareButton1.webp","image/button/shareButton2.webp","image/button/shareButton3.webp","image/button/shareButton4.webp","image/button/shareButton5.webp","image/button/level0.webp","image/button/level1.webp"]),loadSound(null),allButtonReset()),setShareButton(1012*.87),setButton(6),xy_Button(0,["50%","49%"]),xy_Button(1,["50%","59%"]),xy_Button(2,["50%","69%"]),xy_Button(3,["50%","39%"]),xy_Button(4,[50,50]),xy_Button(5,[220,50]),tapButton(0,()=>{0===easy?nextScene="game":checkPractice(),soundCh[0]="ogg/se/confirm.ogg"}),tapButton(1,()=>{soundCh[0]="ogg/se/confirm.ogg",howToPage=0,howToPlay("R")}),tapButton(2,()=>{soundCh[0]="ogg/se/confirm.ogg",nextScene="ranking"}),tapButton(3,()=>{soundCh[1]="ogg/se/select.ogg",startMinute=2===startMinute?5:2}),tapButton(4,()=>{sound=0===sound?1:0,setTimeout(()=>{loadSound2(["ogg/se/confirm.ogg","ogg/se/select.ogg"])},120)}),tapButton(5,()=>{soundCh[1]="ogg/se/select.ogg",easy=0===easy?1:0}),0===sound?frameReset(soundSprite):animeFrame(soundSprite,15,3),setImage(div_button[0],"image/button/startButton.webp"),setImage(div_button[1],"image/button/howButton.webp"),setImage(div_button[2],"image/button/hiButton.webp"),setImage(div_button[3],"image/button/"+startMinute+"mButton.webp"),setImageWidth(div_button[4],"image/button/"+sound+"sound"+soundSprite.p+".png",70),setImageWidth(div_button[5],"image/button/level"+easy+".webp",166.4),setText(div_copyRight,copyRight()),setText(div_copyRight2,copyRight2()),setImageWidth(div_bg,"image/titleMini.webp",540),setImage(div_logo,"image/logo.webp"),1===howTo&&howToLoop()}function copyRight(){return"©2024 RAMUNE SPARK"}function copyRight2(){return'<span style="text-decoration:underline;text-decoration-color:#A5F6EC;">遊び方・お問合せ先など</span>'}function checkPractice(){Swal.fire({title:"プラクティス",target:screen,html:'<p style="text-align: left; font-size:1.2em ">スタンダードよりも敵の攻撃がやさしくなります。<br>はじめての方にもおすすめです。</p>',allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"スタート",cancelButtonText:"やめる",confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",background:swalWhite,color:swalBlack,reverseButtons:!0,didOpen:()=>{Swal.getPopup().style.borderRadius="50px";var e=document.querySelector(".swal2-confirm"),e=(e.style.fontWeight="bold",e.style.fontSize="1.4em",e.style.color=swalWhite,document.querySelector(".swal2-cancel"));e.style.fontWeight="bold",e.style.fontSize="1.1em",e.style.color=swalWhite},showClass:{popup:`
                animate__animated
                animate__fadeInRight
                animate__faster
              `},hideClass:{popup:`
                animate__animated
                animate__fadeOutDown
                animate__faster
              `}}).then(e=>{e.isConfirmed?(soundCh[0]="ogg/se/confirm.ogg",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutUp"),nextScene="game"):(Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutLeft"))})}touch(div_copyRight2,e=>{URLjump=1,window.location.href="https://github.com/RamuneSpark/boomerangSurvivor_mobile/blob/main/README.md"},e=>{},()=>{}),document.write("<div id= rMessage> </div>");const div_rMessage=document.getElementById("rMessage"),div_shareMessage=(defaultSet(div_rMessage,screen),putXY(div_rMessage,"50%",170),translate(div_rMessage,Center,Center),fontSet(div_rMessage,"green","Higashi","22","bold","center"),textEdge(div_rMessage,3,"green"),div_rMessage.style.zIndex=1e3,setText(div_rMessage,""),document.write("<div id= shareMessage> </div>"),document.getElementById("shareMessage")),div_retryMessage=(defaultSet(div_shareMessage,screen),putXY(div_shareMessage,"50%",640),translate(div_shareMessage,Center,Center),fontSet(div_shareMessage,"#FFFFFF","Higashi","25","bold","right"),textEdge(div_shareMessage,3,"#5674A1"),div_shareMessage.style.zIndex=1e3,setText(div_shareMessage,""),document.write("<div id= retryMessage> </div>"),document.getElementById("retryMessage")),div_rST=(defaultSet(div_retryMessage,screen),putXY(div_retryMessage,"50%",400),translate(div_retryMessage,Center,Center),fontSet(div_retryMessage,"#FFFFFF","Higashi","30","bold","right"),textEdge(div_retryMessage,3,"#5674A1"),div_retryMessage.style.zIndex=1e3,setText(div_retryMessage,""),document.write("<div id= rST> </div>"),document.getElementById("rST")),div_rS=(defaultSet(div_rST,screen),putXY(div_rST,60,290),translate(div_rST,Left,Bottom),fontSet(div_rST,"#FFFFFF","Higashi","40","bold","right"),textEdge(div_rST,3,"#5674A1"),div_rST.style.zIndex=1e3,setText(div_rST,""),document.write("<div id= rS> </div>"),document.getElementById("rS"));defaultSet(div_rS,screen),putXY(div_rS,480,290),translate(div_rS,Right,Bottom),fontSet(div_rS,"#FFFFFF","Higashi","50","bold","right"),textEdge(div_rS,4,"#5674A1"),div_rS.style.zIndex=1e3,setText(div_rS,"");let rPT_X=0;document.write("<div id= rPST> </div>");const div_rPST=document.getElementById("rPST"),div_rPSR=(defaultSet(div_rPST,screen),putXY(div_rPST,60,330),translate(div_rPST,Left,Bottom),fontSet(div_rPST,"sys","Higashi","25","bold","right"),textEdge(div_rPST,3,"sys"),div_rPST.style.zIndex=1e3,setText(div_rPST,""),document.write("<div id= rPSR> </div>"),document.getElementById("rPSR")),div_rPS=(defaultSet(div_rPSR,screen),putXY(div_rPSR,60,330),translate(div_rPSR,Center,Bottom),fontSet(div_rPSR,"sys","Higashi","25","bold","right"),textEdge(div_rPSR,3,"sys"),div_rPSR.style.zIndex=1e3,setText(div_rPSR,""),document.write("<div id= rPS> </div>"),document.getElementById("rPS"));defaultSet(div_rPS,screen),putXY(div_rPS,480,330),translate(div_rPS,Right,Bottom),fontSet(div_rPS,"sys","Higashi","25","bold","right"),textEdge(div_rPS,3,"sys"),div_rPS.style.zIndex=1e3,setText(div_rPS,"");let rShift=0,rPage=0,yourRank;const lvName=["スタンダード","プラクティス"];function sResult(){if(-100===bs){soundSprite={p:0,k:0},load(["image/menu.webp","image/button/shareButton0r.webp","image/button/shareButton1.webp","image/button/shareButton2.webp","image/button/shareButton3.webp","image/button/shareButton4.webp","image/button/shareButton5.webp","image/button/yesButton.webp","image/button/noButton.webp","image/button/cardButton.webp","image/lv"+easy+".webp"]),loadSound(["ogg/bgm/result.ogg","ogg/se/confirm.ogg","ogg/se/select.ogg","ogg/se/item.ogg","ogg/se/scoreOK.ogg"]),allButtonReset(),setText(div_rST,"スコア"),rPT_X=540;for(let e=rPage=0;e<3;e++)button[e].opacity=0;for(let e=buttonMax;e<allButtonLength();e++)button[e].opacity=0;nameChange=0,yourRank=null}if(0==shift)(rPT_X-=40)<=0&&(rPT_X=0,shift=1,rShift=0,soundCh[3]="ogg/se/select.ogg");else if(1==shift)++rShift>=fps&&(shift=2,soundCh[3]="ogg/se/item.ogg",score+=bonusScoreGET().score[rPage]);else if(2==shift)(rPT_X-=40)<=-540&&(++rPage>=bonusScoreGET().name.length?(rPT_X=540,shift=100,soundCh[4]="ogg/se/scoreOK.ogg",rankingCheck()):(rPT_X=540,shift=0));else if(100==shift){(rPT_X-=40)<=0&&(rPT_X=0),div_retryMessage.style.opacity=button[buttonMax].opacity,setText(div_retryMessage,"再挑戦しますか？"),div_shareMessage.style.opacity=button[buttonMax].opacity,setText(div_shareMessage,"記録をシェア"),setShareButton(700),0===easy?setButton(3):setButton(4),xy_Button(0,[2/3*100+"%",500]),xy_Button(1,[1/3*100+"%",500]),xy_Button(2,["50%",890]),tapButton(0,()=>{nextScene="game",soundCh[0]="ogg/se/confirm.ogg",soundCh[8]="stop"}),tapButton(1,()=>{nextScene="title",soundCh[0]="ogg/se/confirm.ogg",soundCh[8]="stop"}),tapButton(2,()=>{clearCard(),soundCh[0]="ogg/se/confirm.ogg"});for(let e=0;e<3;e++)2==e&&.31===button[e].opacity?button[e].opacity=.31:button[e].opacity+=.1,1<=button[e].opacity&&(button[e].opacity=1),div_button[e].style.opacity=button[e].opacity;setImage(div_button[0],"image/button/yesButton.webp"),setImage(div_button[1],"image/button/noButton.webp"),setImage(div_button[2],"image/button/cardButton.webp")}surviveTime()===60*startMinute?setText(div_rMessage,startMinute+" MINUTES / 最後までクリアー<br>"+lvName[easy]):setText(div_rMessage,startMinute+" MINUTES / 残りタイム　"+timeTextDisplay(time.p)+"<br>"+lvName[easy]),2===shift?(putXY(div_rPST,rPT_X+60,330),putXY(div_rPS,480,330+40*rPT_X/540)):0===shift||1===shift?(putXY(div_rPST,rPT_X+60,330),putXY(div_rPS,rPT_X+540-60,330)):100===shift&&putXY(div_rPSR,rPT_X+270,330),div_rPST.style.opacity=1-Math.abs(rPT_X)/540,div_rPS.style.opacity=1-Math.abs(rPT_X)/540,100!==shift?(setText(div_rPST,bonusScoreGET().name[rPage]),setText(div_rPS,bonusScoreGET().score[rPage]),Remove(div_rPSR)):100===shift&&null!==yourRank?(setText(div_rPSR,yourRank+"位　ランクイン！"),Remove(div_rPST),Remove(div_rPS)):(Remove(div_rPST),Remove(div_rPS),Remove(div_rPSR)),setText(div_rS,scoreSet()),setImageWidth(div_bg,"image/menu.webp",540),null===channels[8]&&-100!==bs&&bs<=0&&(soundCh[8]="ogg/bgm/result.ogg")}function bonusScoreGET(){var e={name:[],score:[]},t=[1,2];if(surviveTime()<60?(e.name.push("ナイストライ"),e.score.push(500/t[easy])):surviveTime()===60*startMinute?(e.name.push("フルタイムボーナス"),e.score.push(150*surviveTime()/t[easy])):(e.name.push("タイムボーナス"),e.score.push(100*surviveTime()/t[easy])),0<defeatEnemy&&(e.name.push("エネミーボーナス"),e.score.push(100*defeatEnemy/t[easy])),0===damage&&0===easy&&(e.name.push("ノーダメージ"),e.score.push(2e4)),(1===bonus[0]||1===bonus[1])&&0===easy){e.name.push("シークレットアイテム");for(let e=0;e<2;e++).5==bonus[e]&&(bonus[e]=0);e.score.push(12e3*(bonus[0]+bonus[1]))}return e}function surviveTime(){return 60*startMinute-time.p}let div_rankingBase=[];for(let e=0;e<5;e++)document.write("<div id= rankingBase"+e+"> </div>"),div_rankingBase[e]=document.getElementById("rankingBase"+e),defaultSet(div_rankingBase[e],screen),putXY(div_rankingBase[e],"50%",110*e+220),transform(div_rankingBase[e],Center,Center,0,240),div_rankingBase[e].style.zIndex=30,setImage(div_rankingBase[e],"");let div_rankingPick=[];for(let e=0;e<5;e++)document.write("<div id= rankingPick"+e+"> </div>"),div_rankingPick[e]=document.getElementById("rankingPick"+e),defaultSet(div_rankingPick[e],screen),putXY(div_rankingPick[e],"50%",110*e+220),transform(div_rankingPick[e],Center,Center,0,240),div_rankingPick[e].style.zIndex=20,div_rankingPick[e].style.mixBlendMode="multiply",setImage(div_rankingPick[e],"");let div_rankingClass=[];for(let e=0;e<5;e++)document.write("<div id= rankingClass"+e+"> </div>"),div_rankingClass[e]=document.getElementById("rankingClass"+e),defaultSet(div_rankingClass[e],div_rankingBase[e]),putXY(div_rankingClass[e],5,"50%"),translate(div_rankingClass[e],Left,Center),fontSet(div_rankingClass[e],"#B4FFF1","Higashi","15","bold","right"),div_rankingClass[e].style.zIndex=0,setText(div_rankingClass[e],"");let div_rankingScore=[];for(let e=0;e<5;e++)document.write("<div id= rankingScore"+e+"> </div>"),div_rankingScore[e]=document.getElementById("rankingScore"+e),defaultSet(div_rankingScore[e],div_rankingBase[e]),putXY(div_rankingScore[e],170,"5%"),translate(div_rankingScore[e],Right,Top),fontSet(div_rankingScore[e],"#FFFFFF","Higashi","10","bold","right"),div_rankingScore[e].style.zIndex=35,setText(div_rankingScore[e],"");let div_rankingScoreBase=[];for(let e=0;e<5;e++)document.write("<div id= rankingScoreBase"+e+"> </div>"),div_rankingScoreBase[e]=document.getElementById("rankingScoreBase"+e),defaultSet(div_rankingScoreBase[e],div_rankingBase[e]),putXY(div_rankingScoreBase[e],170,"95%"),translate(div_rankingScoreBase[e],Right,Bottom),fontSet(div_rankingScoreBase[e],"#FFFFFF","Higashi","8","bold","right"),div_rankingScoreBase[e].style.zIndex=35,setText(div_rankingScoreBase[e],"");const rank=["1st","2nd","3rd","4th","5th"];function sRanking(){-100===bs&&(load(["image/menuRanking.webp","image/rankingBase.png","image/rankingPick.webp","image/button/2mButton.webp","image/button/5mButton.webp","image/button/backButton.webp","image/button/clearButton.png"]),loadSound(["ogg/se/confirm.ogg","ogg/se/select.ogg"]),allButtonReset());for(let t=0;t<5;t++){setImage(div_rankingBase[t],"image/rankingBase.png"),setImage(div_rankingPick[t],"image/rankingPick.webp"),setText(div_rankingClass[t],rank[t]);let e;e="--"===ranking[startMinute][t].date?"#FFC4EE":"#FFFF00",fontSet(div_rankingScore[t],e,"Higashi","14","bold","right"),setText(div_rankingScore[t],ranking[startMinute][t].score),0===ranking[startMinute][t].time?setText(div_rankingScoreBase[t],ranking[startMinute][t].date+"<br>最後までクリアー"):setText(div_rankingScoreBase[t],ranking[startMinute][t].date+"<br>残りタイム　"+timeTextDisplay(ranking[startMinute][t].time))}setButton(3),xy_Button(0,["50%","75%"]),xy_Button(1,["50%",892]),xy_Button(2,[485,55]),tapButton(0,()=>{soundCh[1]="ogg/se/select.ogg",startMinute=2===startMinute?5:2}),tapButton(1,()=>{soundCh[1]="ogg/se/confirm.ogg",nextScene="title"}),tapButton(2,()=>{soundCh[1]="ogg/se/confirm.ogg",dataDelete()}),setImage(div_button[0],"image/button/"+startMinute+"mButton.webp"),setImageWidth(div_button[1],"image/button/backButton.webp",120),setImageWidth(div_button[2],"image/button/clearButton.png",100),setImageWidth(div_bg,"image/menuRanking.webp",540)}let rankingSaveData,ranking=[];function rankingLoad(){if(null===(rankingSaveData=localStorage.getItem("boomerangSurvivorMobile_345626737131"))){ranking[2]=[],ranking[5]=[];for(let e=0;e<5;e++){var t=[[2e5,12e4,8e4,4e4,1e4],[4e5,24e4,16e4,8e4,2e4]];ranking[2][e]={date:"--",score:t[0][e],time:120},ranking[5][e]={date:"--",score:t[1][e],time:300}}}else ranking=JSON.parse(rankingSaveData)}function rankingCheck(){let t=null;for(let e=0;e<5;e++)if(score>ranking[startMinute][e].score){t=e,yourRank=t+1;break}if(null!==t){for(let e=4;0<=e;e--){if(t===e){ranking[startMinute][e]={},ranking[startMinute][e].date=displayDate(1),ranking[startMinute][e].score=score,ranking[startMinute][e].time=time.p;break}ranking[startMinute][e]=jSON_data(ranking[startMinute][e-1])}localStorage.setItem("boomerangSurvivorMobile_345626737131",JSON.stringify(ranking))}}function jSON_data(e){return JSON.parse(JSON.stringify(e))}function dataDelete(e){Swal.fire({title:"ハイスコアのリセット",target:screen,html:'<p style="text-align: left; font-size:1.2em ">ハイスコアランキングをすべてリセットし、初期状態に戻します。<br>※一度リセットしたハイスコアランキングを復元することはできません。</p>',allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"リセットする",cancelButtonText:"やっぱりやめる",confirmButtonColor:"#FF0000",cancelButtonColor:"#257EC9",background:swalWhite,color:swalBlack,didOpen:()=>{Swal.getPopup().style.borderRadius="50px";var e=document.querySelector(".swal2-confirm"),e=(e.style.fontWeight="bold",e.style.fontSize="1.1em",e.style.color=swalWhite,document.querySelector(".swal2-cancel"));e.style.fontWeight="bold",e.style.fontSize="1.7em",e.style.color=swalWhite},showClass:{popup:`
            animate__animated
            animate__fadeInRight
            animate__faster
          `},hideClass:{popup:`
            animate__animated
            animate__fadeOutDown
            animate__faster
          `}}).then(e=>{e.isConfirmed?(soundCh[0]="ogg/se/confirm.ogg",Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutUp"),localStorage.removeItem("boomerangSurvivorMobile_345626737131"),localStorage.removeItem("boomerangSurvivorMobile_846472726013"),setTimeout(()=>{window.location.reload()},500)):(Swal.getPopup().classList.remove("animate__fadeOutDown"),Swal.getPopup().classList.add("animate__fadeOutLeft"))})}rankingLoad(),document.write("<div id= gameStatus> </div>");const div_gameStatus=document.getElementById("gameStatus"),div_timeIcon=(defaultSet(div_gameStatus,div_gameScreen),putXY(div_gameStatus,"0%","100%"),translate(div_gameStatus,Left,Bottom),div_gameStatus.style.zIndex=5e4,setImage(div_gameStatus,""),document.write("<div id= timeIcon> </div>"),document.getElementById("timeIcon")),div_timeText=(defaultSet(div_timeIcon,div_gameStatus),putXY(div_timeIcon,"0%","100%"),translate(div_timeIcon,Left,Bottom),div_timeIcon.style.zIndex=5e4,div_timeIcon.style.overflow="hidden",setImage(div_timeIcon,""),document.write("<div id= timeText> </div>"),document.getElementById("timeText"));defaultSet(div_timeText,div_gameStatus),putXY(div_timeText,60,"100%"),translate(div_timeText,Left,Bottom),fontSet(div_timeText,"sys","Higashi","40","bold","right"),textEdge(div_timeText,3,"sys"),div_timeText.style.zIndex=50001,setText(div_timeText,"");let time={p:0,k:0},startMinute=2,commaTime=0;function timeMove(){0==pause&&(time.k++,commaTime+=10,time.k>=fps)&&(time.k=0,time.p--)}function timeDisplay(){-100===bs&&(time={p:60*startMinute,k:-1},commaTime=0),0===bs&&(playerPlayState()&&timeMove(),setImage(div_timeIcon,"image/time.webp"),setText(div_timeText,timeTextDisplay(time.p)),time.p<=9?fontSet(div_timeText,"sys","Higashi","55","bold","right"):fontSet(div_timeText,"sys","Higashi","40","bold","right"))}function timeTextDisplay(e){let t;var n;return t=0<=e?(n=e%60,Math.floor(e/60)+":"+Math.floor(n/10)+n%10):"0:00"}function timeInfo(e){var t={};return t.m=Math.floor(e/60),t.s=e%60,t}document.write("<div id= scoreText> </div>");const div_scoreText=document.getElementById("scoreText");defaultSet(div_scoreText,div_gameStatus),putXY(div_scoreText,"98%","100%"),translate(div_scoreText,Right,Bottom),fontSet(div_scoreText,"blue","Higashi","40","bold","right"),textEdge(div_scoreText,3,"blue"),div_scoreText.style.zIndex=50001,setText(div_scoreText,"");let score=0;function scoreDisplay(){-100===bs&&(score=0),0===bs&&setText(div_scoreText,scoreSet())}function scoreSet(){let e=score;return score<10&&(e="0"+score),e=10485750<score?10485750:e}document.write("<div id= speedIcon> </div>");const div_speedIcon=document.getElementById("speedIcon"),div_speedText=(defaultSet(div_speedIcon,div_gameStatus),putXY(div_speedIcon,"20%","4%"),translate(div_speedIcon,Left,Center),div_speedIcon.style.zIndex=5e4,div_speedIcon.style.transformOrigin="center left",setImage(div_speedIcon,""),document.write("<div id= speedText> </div>"),document.getElementById("speedText")),div_attackIcon=(defaultSet(div_speedText,div_gameStatus),putXY(div_speedText,"31%","4%"),translate(div_speedText,Left,Center),fontSet(div_speedText,"sys","Higashi","40","bold","right"),textEdge(div_speedText,3,"sys"),div_speedText.style.zIndex=50001,setText(div_speedText,""),document.write("<div id= attackIcon> </div>"),document.getElementById("attackIcon")),div_attackText=(defaultSet(div_attackIcon,div_gameStatus),putXY(div_attackIcon,"41%","4%"),translate(div_attackIcon,Left,Center),div_attackIcon.style.zIndex=5e4,div_attackIcon.style.transformOrigin="center left",setImage(div_attackIcon,""),document.write("<div id= attackText> </div>"),document.getElementById("attackText")),div_heartIcon=(defaultSet(div_attackText,div_gameStatus),putXY(div_attackText,"52%","4%"),translate(div_attackText,Left,Center),fontSet(div_attackText,"sys","Higashi","40","bold","right"),textEdge(div_attackText,3,"sys"),div_attackText.style.zIndex=50001,setText(div_attackText,""),document.write("<div id= heartIcon> </div>"),document.getElementById("heartIcon")),div_bigIcon=(defaultSet(div_heartIcon,div_gameStatus),putXY(div_heartIcon,"100%","4%"),translate(div_heartIcon,Right,Center),div_heartIcon.style.zIndex=5e4,div_heartIcon.style.transformOrigin="center right",setImage(div_heartIcon,""),document.write("<div id= bigIcon> </div>"),document.getElementById("bigIcon"));function itemStatusDisplay(){0===bs&&(setImageWidth(div_speedIcon,"image/item/0s.png",50),setText(div_speedText,player.speedLevel),setImageWidth(div_attackIcon,"image/item/1s.png",50),setText(div_attackText,player.weaponLevel),setImageWidth(div_heartIcon,"image/item/2s.png",50),div_heartIcon.style.opacity=player.heart,setImageWidth(div_bigIcon,"image/item/3s.png",50),div_bigIcon.style.opacity=player.big)}defaultSet(div_bigIcon,div_gameStatus),putXY(div_bigIcon,"90%","4%"),translate(div_bigIcon,Right,Center),div_bigIcon.style.zIndex=5e4,div_bigIcon.style.transformOrigin="center right",setImage(div_bigIcon,""),document.write("<div id= player> </div>");const div_player=document.getElementById("player"),div_virtualVec=(defaultSet(div_player,div_gameScreen),putXY(div_player,"50%","100%"),div_player.style.transform="translate(-30px, -62px)",div_player.style.zIndex=0,div_player.style.overflow="hidden",setImage(div_player,""),document.write("<div id= virtualVec> </div>"),document.getElementById("virtualVec")),div_pShadow=(defaultSet(div_virtualVec,div_gameScreen),putXY(div_virtualVec,"50%","100%"),translate(div_virtualVec,Center,Center),div_virtualVec.style.zIndex=0,div_virtualVec.style.overflow="hidden",setImage(div_virtualVec,""),document.write("<div id= pShadow> </div>"),document.getElementById("pShadow"));defaultSet(div_pShadow,div_gameScreen),putXY(div_pShadow,"50%","100%"),translate(div_pShadow,Center,Center),div_pShadow.style.zIndex=0,div_pShadow.style.overflow="hidden",setImage(div_pShadow,"");let player={},playerFrame={},damage=(frameReset(playerFrame),0);function playerMove(){null!==touchMark.x&&(player.lx=player.x,touchMark.x>player.x&&playerPlayState()?("stop"===player.state&&frameReset(playerFrame),0===weapon.stop&&(player.vec="right",player.state="walk",player.x+=playerSpeed()),450<=player.x&&(player.x=450),touchMark.x<=player.x&&(player.x=touchMark.x)):touchMark.x<player.x&&playerPlayState()&&("stop"===player.state&&frameReset(playerFrame),0===weapon.stop&&(player.vec="left",player.state="walk",player.x-=playerSpeed()),player.x<=90&&(player.x=90),touchMark.x>=player.x)&&(player.x=touchMark.x),Math.abs(player.x-player.lx)<=playerSpeed()/10?(player.stopState++,10<=player.stopState&&(player.stopState=10,player.vec="up")):player.stopState=0),"miss"==player.state?(player.h+=player.hv,player.hv-=.5,player.ht++,player.h<=0&&(player.h=0,player.state="miss2",player.ht=0)):"miss2"==player.state&&(player.ht++,player.ht>=1.4*fps)&&(player.state="miss3"),player.inv--,player.inv<=0&&(player.inv=0)}function playerDefault(){player={x:270,lx:270,y:510,h:0,hv:0,ht:0,speedLevel:1,weaponLevel:1,state:"stop",vec:"up",big:0,heart:0,inv:0,stopState:0},damage=0}function playerDisplay(){if(-100===bs&&playerDefault(),playerMove(),"walk"===player.state&&0==weapon.stop&&"up"!==player.vec?animeFrame(playerFrame,16,4):playerPlayState()&&(frameReset(playerFrame),player.vec="up"),putXY(div_player,player.x,player.y-player.h),div_player.style.zIndex=player_zIndex(),"miss"===player.state?(setImage(div_player,"image/maple_miss0.webp"),setImage(div_pShadow,"image/shadow.png")):"miss2"===player.state?(setImage(div_player,"image/maple_miss1.webp"),setImage(div_pShadow,"image/shadow.png"),player.ht>=.6*fps&&(div_player.style.opacity=player.ht%2,div_pShadow.style.opacity=player.ht%2)):"miss3"===player.state?(Remove(div_player),Remove(div_pShadow),shift++,div_player.style.opacity=1,div_pShadow.style.opacity=1):(0<player.inv?(div_player.style.opacity=player.inv%2,div_pShadow.style.opacity=player.inv%2):(div_player.style.opacity=1,div_pShadow.style.opacity=1),setImage(div_player,"image/maple_"+player.vec+playerFrame.p+".webp"),setImage(div_pShadow,"image/shadow.png")),"walk"===player.state){let e=touchMark.x;450<=e?e=450:e<=90&&(e=90),null!==e&&e!==player.x&&(putXY(div_virtualVec,e,player.y),div_virtualVec.style.zIndex=zIndex(player,5),0===weapon.stop)&&0<=Math.abs(e-player.x)&&("left"==player.vec||"right"==player.vec)?(div_virtualVec.style.opacity=virtualVecOpacity(Math.abs(e-player.x)),setImageWidth(div_virtualVec,"image/walk_"+player.vec+"Mini.png",60)):Remove(div_virtualVec)}else Remove(div_virtualVec);putXY(div_pShadow,player.x,player.y),div_pShadow.style.zIndex=gameZbase-10}function player_zIndex(){return zIndex(player,9)}function zIndex(e,t){e=10*Math.floor(e.y)+t;return e+=gameZbase}function playerSpeed(){return 2.5+.8*(player.speedLevel-1)}function playerPlayState(){return"stop"===player.state||"walk"===player.state}function virtualVecOpacity(e){let t=e/60;return t<=0?t=0:.7<=t&&(t=.7),t}function playerOut(){player.inv<=0&&(damage=1,0===player.heart?(player.state="miss",frameReset(playerFrame),player.hv=10,player.h=1,player.ht=0,"game"===scene&&(soundCh[8]="ogg/se/miss.ogg"),2===weapon.m&&(weapon.m=4)):1===player.heart&&(player.heart=0,player.inv=3*fps))}document.write("<div id= finger> </div>");const div_finger=document.getElementById("finger"),div_fShadow=(defaultSet(div_finger,div_touchScreen),putXY(div_finger,"50%","50%"),translate(div_finger,Center,Center),div_finger.style.zIndex=1e3,setImage(div_finger,""),document.write("<div id= fShadow> </div>"),document.getElementById("fShadow"));defaultSet(div_fShadow,div_touchScreen),putXY(div_fShadow,"50%","50%"),translate(div_fShadow,Center,Center),div_fShadow.style.zIndex=999,div_fShadow.style.overflow="hidden",setImage(div_fShadow,"");let fing={};function fingerDefault(){fing.m=1,fing.x=270,fing.y=320,fing.h=70,fing.t=0}function finger(){1===fing.m&&(fing.h<=0?0===fing.t?(null===touchMark.x||null===touchMark.y?(touchMark.lx=fing.x,touchMark.ly=fing.y):(touchMark.lx=touchMark.x,touchMark.ly=touchMark.y),touchMark.x=fing.x,touchMark.y=fing.y,touchShot()):1!==fing.t||0!==weapon.m&&3!==weapon.m||(weapon.m=1,weapon.stop=5):(touchMark={x:null,y:null},"walk"==player.state&&(player.state="stop")),putXY(div_fShadow,fing.x,fing.y),putXY(div_finger,fing.x,fing.y-fing.h),setImageWidth(div_finger,"image/finger/f.webp",270),setImageWidth(div_fShadow,"image/finger/shadow.png",270))}function fingerDelete(){fing.m=0,Remove(div_finger),Remove(div_fShadow)}document.write("<div id= weapon> </div>");const div_weapon=document.getElementById("weapon");defaultSet(div_weapon,div_gameScreen),putXY(div_weapon,"50%","100%"),translate(div_weapon,Center,Center),div_weapon.style.zIndex=0,setImage(div_weapon,"");let weapon={m:0};const wSize=[1,1.5];function weaponMove(){1===weapon.m&&(playerPlayState()?(weapon.x=player.x,weapon.y=player.y,weapon.lx=player.x,weapon.ly=player.y,weapon.lcx=player.x,weapon.lcy=player.y,weapon.lv=player.weaponLevel-1,weapon.v=15.2*.77*Math.pow(1.12,weapon.lv),weapon.dv=.3696*Math.pow(1.12,weapon.lv),weapon.rotate=0,weapon.m=2,weapon.big=player.big,weapon.chain=1,weapon.opacity=1,weapon.chainHit=0,soundCh[0]="ogg/se/throw.ogg"):weapon.m=3),weapon.stop--,weapon.stop<=0&&(weapon.stop=0),2===weapon.m?(weapon.lx=weapon.x,weapon.ly=weapon.y,weapon.lcx=(weapon.x+weapon.lx)/2,weapon.lcy=(weapon.y+weapon.ly)/2,weapon.x=player.x,weapon.y-=weapon.v,weapon.v-=weapon.dv,weapon.rotate+=6,weapon.y>=player.y&&(weapon.m=3,0==weapon.chainHit)&&(chainHit=0)):4===weapon.m&&(weapon.opacity-=.1,weapon.opacity<=0)&&(weapon.m=0,(weapon.opacity=0)==weapon.chainHit)&&(chainHit=0),1e4!==touchNow&&3===weapon.m&&(weapon.m=0)}function weaponDefault(){weapon={m:0,x:0,y:0,v:0,dv:0,lv:0,rotate:0,stop:0,chain:0,opacity:1}}function weaponDisplay(){-100===bs&&weaponDefault(),weaponMove(),2===weapon.m||4===weapon.m?(putXY(div_weapon,weapon.x,weapon.y),div_weapon.style.zIndex=zIndex(weapon,8),transform(div_weapon,Center,Center,weapon.rotate,100*wSize[weapon.big]),div_weapon.style.opacity=weapon.opacity,setImage(div_weapon,"image/weapon.png")):0!==weapon.m&&3!==weapon.m||Remove(div_weapon)}function attack(e,t){var n=weapon.x,i=weapon.y,a=weapon.lcx,o=weapon.lcy,r=a-n,m=o-i,d=r*r+m*m;let s=-1;0!=d&&(s=((e-n)*r+(t-i)*m)/d);let l,g;g=s<0?(l=n,i):0<s?(l=a,o):(l=n+s*r,i+s*m);d=e-l,a=t-g;return Math.sqrt(d*d+a*a)}let div_item=[];for(let e=0;e<17;e++)document.write("<div id= item"+e+"> </div>"),div_item[e]=document.getElementById("item"+e),defaultSet(div_item[e],div_gameScreen),putXY(div_item[e],100,100*e),translate(div_item[e],Center,Center),div_item[e].style.zIndex=0,setImage(div_item[e],"");let div_itemFrame=[];for(let e=0;e<17;e++)document.write("<div id= itemFrame"+e+"> </div>"),div_itemFrame[e]=document.getElementById("itemFrame"+e),defaultSet(div_itemFrame[e],div_item[e]),putXY(div_itemFrame[e],"50%","50%"),translate(div_itemFrame[e],Center,Center),div_itemFrame[e].style.zIndex=1,setImage(div_itemFrame[e],"");let item=[],getItem=0,attackPhase=0;function itemDefault(){for(let e=0;e<17;e++)item[e]={m:0,x:0,y:0,fx:0,v:0,t:0,r:0,time:0}}function itemDisplay(){-100===bs&&(itemDefault(),attackPhase=0,getItem=0),itemMove();for(let e=0;e<17;e++)1<=item[e].m?(putXY(div_item[e],item[e].x,item[e].y),div_item[e].style.zIndex=zIndex(item[e],7),setImageWidth(div_item[e],"image/item/"+item[e].t+".png",40),setImageWidth(div_itemFrame[e],"image/item/f.png",40),item[e].time%10<5?div_itemFrame[e].style.opacity=0:div_itemFrame[e].style.opacity=1):(Remove(div_item[e]),Remove(div_itemFrame[e]))}function itemSet(e){item[e].v=.7*(2*Random(Seed(2+.7*e))+2),item[e].fx=Math.floor(340*Random(Seed(300+.7*e)))+100,item[e].x=item[e].fx,item[e].y=-30,item[e].m=1,item[e].time=0,item[e].r=Random(Seed(15+.7*e))*Math.PI*2}function itemMove(){if(time.p%10==5&&18===time.k)for(let e=0;e<17;e++)if(0===item[e].m){item[e].t=(Math.floor(time.p/10)+1)%2,1===item[e].t&&attackPhase++,itemSet(e);break}if(48===time.p&&26===time.k)for(let e=0;e<17;e++)if(0===item[e].m){item[e].t=3,itemSet(e);break}if((76===time.p||211===time.p)&&33===time.k)for(let e=0;e<17;e++)if(0===item[e].m){item[e].t=2,itemSet(e);break}if(0===bonus[0]&&30<=chainHit&&0===easy&&"game"===scene)for(let e=0;e<17;e++)if(0===item[e].m){item[e].t=4,bonus[0]=.5,itemSet(e);break}if(6<=weapon.chain&&0===bonus[1]&&0===easy&&"game"===scene)for(let e=0;e<17;e++)if(0===item[e].m){item[e].t=5,bonus[1]=.5,itemSet(e);break}for(let e=0;e<17;e++)1===item[e].m&&(item[e].time++,item[e].y+=item[e].v,item[e].r+=.02*item[e].v,item[e].x=30*Math.sin(item[e].r)+item[e].fx,Vector(player.x,player.y,item[e].x,item[e].y).z<=27||attack(item[e].x,item[e].y)<20*wSize[weapon.big]&&2===weapon.m)&&playerPlayState()&&(attack(item[e].x,item[e].y)<20*wSize[weapon.big]&&2===weapon.m&&0==weapon.chainHit&&(weapon.chainHit=1,chainHit++),item[e].m=0,soundCh[1]="ogg/se/item.ogg",getItem++,0===item[e].t?(player.speedLevel++,0===easy&&(score+=10),8<=player.speedLevel&&(player.speedLevel=8)):1===item[e].t?(player.weaponLevel++,0===easy&&(score+=100),8<=player.weaponLevel&&(player.weaponLevel=8)):3===item[e].t?(player.big=1,0===easy&&(score+=200)):2===item[e].t?(player.heart=1,0===easy&&(score+=0)):4===item[e].t?0===easy&&(score+=2e4,bonus[0]=1):5===item[e].t&&0===easy&&(score+=1e4,bonus[1]=1)),660<=item[e].y&&(item[e].m=0)}let div_enemy=[];for(let e=0;e<25;e++)document.write("<div id= enemy"+e+"> </div>"),div_enemy[e]=document.getElementById("enemy"+e),defaultSet(div_enemy[e],div_gameScreen),putXY(div_enemy[e],100,100*e),translate(div_enemy[e],Center,Center),div_enemy[e].style.zIndex=0,div_enemy[e].style.mixBlendMode="normal",setImage(div_enemy[e],"");let div_enemyShadow=[];for(let e=0;e<25;e++)document.write("<div id= enemyShadow"+e+"> </div>"),div_enemyShadow[e]=document.getElementById("enemyShadow"+e),defaultSet(div_enemyShadow[e],div_gameScreen),putXY(div_enemyShadow[e],100,100*e),translate(div_enemyShadow[e],Center,Center),div_enemyShadow[e].style.zIndex=0,div_enemyShadow[e].style.mixBlendMode="normal",setImage(div_enemyShadow[e],"");let enemyScore=[],div_enemyScore=[];for(let e=0;e<25;e++)document.write("<div id= enemyScore"+e+"> </div>"),div_enemyScore[e]=document.getElementById("enemyScore"+e),defaultSet(div_enemyScore[e],div_gameScreen),putXY(div_enemyScore[e],200,100*e),translate(div_enemyScore[e],Center,Center),fontSet(div_enemyScore[e],"#FFFFFF","Higashi","25","bold","right"),textEdge(div_enemyScore[e],3,"#27C3C7"),div_enemyScore[e].style.zIndex=50010,setText(div_enemyScore[e],"");function lvSpeed(e){let t;return t="game"===scene?[1,.75][e]:1}let maxEnemy=5,maxEnemyKind=[],defeatEnemy=0;function phase(){var t=60*startMinute;let n=0;for(let e=0;e<17;e++)if(time.p<=(e+1)/17*t){n=e;break}return n=16-n}let enemy=[],enemyFrame=[],enemyKind=0;const eFSpeed=[20,17,20,14],eFN=[2,4,4,3],eScore=[[200,10],[300,100],[500,200],[300,100]];function orVec(e){let t;return 0===e?t="left":1===e&&(t="right"),t}function enemyDefault(){for(let e=0;e<25;e++)enemy[e]={m:0,x:0,y:0,vec:0,dVec:"none",mVec:"right",type:0,rotate:0},enemyFrame[e]={p:0,k:0},enemyScore[e]={m:0,f:0}}function enemyDisplay(){-100===bs&&(enemyDefault(),defeatEnemy=0),enemyMove();for(let e=0;e<25;e++)2===enemy[e].m||50===enemy[e].m?(4!==enemy[e].type&&animeFrame(enemyFrame[e],eFSpeed[enemy[e].type],eFN[enemy[e].type]),putXY(div_enemy[e],enemy[e].x,enemy[e].y),4!==enemy[e].type?div_enemy[e].style.zIndex=zIndex(enemy[e],6):div_enemy[e].style.zIndex=zIndex(player,6),transform(div_enemy[e],Center,Center,enemy[e].rotate,100),setImage(div_enemy[e],"image/enemy/"+enemy[e].type+"_"+enemyFrame[e].p+".webp"),4===enemy[e].type?1===enemy[e].twinkle?(putXY(div_enemyShadow[e],enemy[e].x,enemy[e].y),div_enemyShadow[e].style.zIndex=gameZbase-10,div_enemyShadow[e].style.opacity=enemy[e].twinkleTime%2,setImageWidth(div_enemyShadow[e],"image/enemy/4allow.webp",40),transform(div_enemyShadow[e],Center,Center,calculateTwinkle(e),100)):(div_enemyShadow[e].style.opacity=1,Remove(div_enemyShadow[e])):(putXY(div_enemyShadow[e],enemy[e].x,enemy[e].y),div_enemyShadow[e].style.zIndex=gameZbase-10,translate(div_enemyShadow[e],Center,Center),div_enemyShadow[e].style.opacity=1,setImage(div_enemyShadow[e],"image/shadow.png"))):100===enemy[e].m?(putXY(div_enemy[e],enemy[e].x,enemy[e].y),div_enemy[e].style.zIndex=zIndex(enemy[e],6),setImage(div_enemy[e],"image/enemy/"+enemy[e].type+"_D.webp"),4!==enemy[e].type&&(putXY(div_enemyShadow[e],enemy[e].x,enemy[e].y),div_enemyShadow[e].style.zIndex=gameZbase-10,setImage(div_enemyShadow[e],"image/shadow.png"))):101===enemy[e].m?(putXY(div_enemy[e],enemy[e].x,enemy[e].y),div_enemy[e].style.zIndex=zIndex(enemy[e],6),setImage(div_enemy[e],"image/enemy/D_"+enemyFrame[e].p+".webp"),Remove(div_enemyShadow[e])):0===enemy[e].m&&(Remove(div_enemy[e]),Remove(div_enemyShadow[e])),1<=enemyScore[e].m?(putXY(div_enemyScore[e],enemyScore[e].x,enemyScore[e].y),div_enemyScore[e].style.filter="brightness("+(1+enemyScore[e].f%2)+")",setText(div_enemyScore[e],enemyScore[e].score),div_enemyScore[e].style.zIndex=50010+enemyScore[e].score):Remove(div_enemyScore[e])}function enemyMove(){if(levelSet(),0===bs&&Random(Seed(.5))<.05&&screenEnemy()<maxEnemy&&"game"===scene)for(let e=0;e<25;e++)if(0===enemy[e].m){enemy[e].m=1;break}for(let e=0;e<25;e++)1===enemy[e].m?(enemy[e].m=2,enemy[e].rotate=0,selectEnemyKind(e),enemyFrame[e]={p:0,k:0},0===enemy[e].type?(enemy[e].vec=Math.floor(2*Random(Seed(24))),enemy[e].dVec="none",enemy[e].mVec=orVec(enemy[e].vec),"left"===enemy[e].mVec?enemy[e].x=600:enemy[e].x=-60,enemy[e].y=getRandomUsaraY(),enemy[e].v=1.7):1!==enemy[e].type&&2!==enemy[e].type&&3!==enemy[e].type&&4!==enemy[e].type||(1===enemy[e].type?(enemy[e].vec="down",enemy[e].dVec="none",enemy[e].mVec="down",enemy[e].v=2):2===enemy[e].type&&(enemy[e].vec=Math.floor(2*Random(Seed(24))),enemy[e].dVec="none",enemy[e].mVec=orVec(enemy[e].vec),enemy[e].v=Math.floor(4*Random(Seed(100)))+4),3===enemy[e].type?(enemy[e].vec="down",enemy[e].dVec="none",enemy[e].mVec="down",enemy[e].v=Math.floor(2*Random(Seed(100)))+2):4===enemy[e].type&&(enemy[e].twinkle=0,enemy[e].twinkleTime=0,enemy[e].v=3),enemy[e].x=Math.floor(360*Random(Seed(51)))+90,enemy[e].y=-30)):2===enemy[e].m?(0===enemy[e].type?"left"===enemy[e].mVec?enemy[e].x-=enemy[e].v*lvSpeed(easy):enemy[e].x+=enemy[e].v*lvSpeed(easy):1===enemy[e].type||2===enemy[e].type||3===enemy[e].type?("down"===enemy[e].mVec||2===enemy[e].type?enemy[e].y+=enemy[e].v*lvSpeed(easy):enemy[e].y-=enemy[e].v*lvSpeed(easy),2===enemy[e].type&&("left"===enemy[e].mVec?enemy[e].x-=.2*enemy[e].v*lvSpeed(easy):enemy[e].x+=.2*enemy[e].v*lvSpeed(easy))):4===enemy[e].type&&(0==enemy[e].twinkle?(enemy[e].y+=enemy[e].v,60<=enemy[e].y&&(enemy[e].y=60,enemy[e].rv=7,enemy[e].twinkle=1)):1==enemy[e].twinkle?(enemy[e].rotate+=enemy[e].rv,enemy[e].twinkleTime++,enemy[e].vx=12*Vector(enemy[e].x,enemy[e].y,player.x,player.y).x*lvSpeed(easy),enemy[e].vy=12*Vector(enemy[e].x,enemy[e].y,player.x,player.y).y*lvSpeed(easy),enemy[e].twinkleTime>=1.5*fps&&(enemy[e].twinkle=2,soundCh[7]="ogg/se/twinkle.ogg")):(enemy[e].rotate=0,enemy[e].x+=enemy[e].vx,enemy[e].y+=enemy[e].vy)),attack(enemy[e].x,enemy[e].y)<23*wSize[weapon.big]&&2==weapon.m&&enemy[e].y<540&&(4!==enemy[e].type?(enemy[e].m=100,enemyFrame[e]={p:0,k:0},soundCh[2]="ogg/se/defeatEnemy.ogg",enemyScore[e].score=eScore[enemy[e].type][easy]*weapon.chain,"game"===scene&&(enemyScore[e].m=1),score+=enemyScore[e].score,weapon.chain++,0==weapon.chainHit&&(weapon.chainHit=1,chainHit++),defeatEnemy++):enemyFrame[e].p=1),Vector(player.x,player.y,enemy[e].x,enemy[e].y).zz<30&&playerPlayState()&&0!==enemy[e].type&&enemy[e].y<540&&playerOut(),3===enemy[e].type&&"down"===enemy[e].mVec&&540<enemy[e].y&&"1"!=enemy[e].vec?(enemy[e].y=540,enemy[e].m=50):3===enemy[e].type&&"down"===enemy[e].mVec&&600<enemy[e].y&&"1"==enemy[e].vec&&(enemy[e].v=7,enemy[e].mVec="up"),(660<enemy[e].y||enemy[e].y<-60||600<enemy[e].x||enemy[e].x<-60)&&(enemy[e].m=0)):50===enemy[e].m?(player.x<enemy[e].x?enemy[e].x-=3:player.x>enemy[e].x&&(enemy[e].x+=3),Math.abs(player.x-enemy[e].x)<=10&&(enemy[e].m=2,enemy[e].vec="1")):100===enemy[e].m?animeFrameEnd(enemyFrame[e],3,4,()=>{enemy[e].m=101}):101===enemy[e].m&&animeFrameEnd(enemyFrame[e],8,3,()=>{enemy[e].m=0}),1<=enemyScore[e].m&&(1===enemyScore[e].m?(enemyScore[e].x=enemy[e].x,enemyScore[e].y=enemy[e].y-30,enemyScore[e].f=0,enemyScore[e].m=2):(enemyScore[e].y-=.5,enemyScore[e].f++),0===enemy[e].m)&&(enemyScore[e].m=0)}function screenEnemy(){let t=0;for(let e=0;e<25;e++)0!==enemy[e].m&&t++;return t}function getRandomUsaraY(){let e;var t=60*(e=attackPhase<=1?5:attackPhase<=3?4:attackPhase<=5?3:attackPhase<=6?2:1)+30;return Math.floor(Random(Seed(32))*(450-t+1))+t}function selectEnemyKind(e){var t=[];for(let e=0;e<enemyKind;e++)screenEnemyKind(e)<maxEnemyKind[e]&&t.push(e);enemy[e].type=t[Math.floor(Random(Seed(88))*t.length)]}function screenEnemyKind(t){let n=0;for(let e=0;e<25;e++)0!==enemy[e].m&&enemy[e].type===t&&n++;return n}function levelSet(){0===easy?0==phase()?(enemyKind=1,maxEnemy=5,maxEnemyKind=[7,0,0,0,0]):1==phase()?(enemyKind=2,maxEnemy=7,maxEnemyKind=[4,4,0,0,0]):2==phase()?(enemyKind=2,maxEnemy=10,maxEnemyKind=[6,6,0,0,0]):3==phase()?(enemyKind=2,maxEnemy=10,maxEnemyKind=[3,9,0,0,0]):4==phase()?(enemyKind=3,maxEnemy=10,maxEnemyKind=[4,8,3,0,0]):5==phase()?(enemyKind=3,maxEnemy=10,maxEnemyKind=[3,5,4,0,0]):6==phase()?(enemyKind=3,maxEnemy=10,maxEnemyKind=[2,6,5,0,0]):7==phase()?(enemyKind=3,maxEnemy=12,maxEnemyKind=[1,5,8,0,0]):8==phase()?(enemyKind=1,maxEnemy=11,maxEnemyKind=[14,0,0,0,0]):9==phase()?(enemyKind=4,maxEnemy=5,maxEnemyKind=[4,0,0,3,0]):10==phase()?(enemyKind=4,maxEnemy=7,maxEnemyKind=[4,3,0,3,0]):11==phase()?(enemyKind=4,maxEnemy=9,maxEnemyKind=[5,3,3,3,0]):12==phase()?(enemyKind=4,maxEnemy=12,maxEnemyKind=[0,0,13,0,0]):13==phase()?(enemyKind=5,maxEnemy=12,maxEnemyKind=[5,3,1,3,1]):14==phase()?(enemyKind=5,maxEnemy=14,maxEnemyKind=[2,5,4,5,1]):15==phase()?(enemyKind=5,maxEnemy=17,maxEnemyKind=[4,6,5,5,2]):16==phase()&&(enemyKind=5,maxEnemy=22,maxEnemyKind=[2,6,8,6,2]):0==phase()?(enemyKind=1,maxEnemy=3,maxEnemyKind=[7,0,0,0,0]):1==phase()?(enemyKind=1,maxEnemy=5,maxEnemyKind=[7,0,0,0,0]):2==phase()?(enemyKind=2,maxEnemy=6,maxEnemyKind=[6,1,0,0,0]):3==phase()?(enemyKind=2,maxEnemy=6,maxEnemyKind=[6,2,0,0,0]):4==phase()?(enemyKind=2,maxEnemy=6,maxEnemyKind=[6,4,0,0,0]):5==phase()?(enemyKind=2,maxEnemy=7,maxEnemyKind=[5,4,0,0,0]):6==phase()?(enemyKind=2,maxEnemy=8,maxEnemyKind=[5,5,0,0,0]):7==phase()?(enemyKind=2,maxEnemy=9,maxEnemyKind=[4,6,0,0,0]):8==phase()?(enemyKind=1,maxEnemy=6,maxEnemyKind=[7,0,0,0,0]):9==phase()?(enemyKind=3,maxEnemy=3,maxEnemyKind=[4,2,1,0,0]):10==phase()?(enemyKind=3,maxEnemy=5,maxEnemyKind=[4,3,1,0,0]):11==phase()?(enemyKind=3,maxEnemy=6,maxEnemyKind=[4,4,1,0,0]):12==phase()?(enemyKind=3,maxEnemy=6,maxEnemyKind=[2,6,1,0,0]):13==phase()?(enemyKind=3,maxEnemy=7,maxEnemyKind=[2,7,1,0,0]):14==phase()?(enemyKind=3,maxEnemy=7,maxEnemyKind=[1,7,2,0,0]):15==phase()?(enemyKind=4,maxEnemy=7,maxEnemyKind=[1,7,0,1,0]):16==phase()&&(enemyKind=5,maxEnemy=8,maxEnemyKind=[8,0,0,0,1])}function calculateTwinkle(e){return-Math.atan2(enemy[e].vx,enemy[e].vy)*(180/Math.PI)}nextScene="title",change_level=.1,k2ndTime=40,k3rdTime=8,document.write("<div id= bg> </div>");const div_bg=document.getElementById("bg"),div_test=(defaultSet(div_bg,screen),putXY(div_bg,"50%","50%"),translate(div_bg,Center,Center),div_bg.style.zIndex=0,setImage(div_bg,""),document.write("<div id= test> </div>"),document.getElementById("test")),div_test2=(defaultSet(div_test,screen),putXY(div_test,0,0),transform(div_test,Center,Center,0,100),div_test.style.zIndex=1001,setImage(div_test,""),document.write("<div id= test2> </div>"),document.getElementById("test2"));defaultSet(div_test2,screen),putXY(div_test2,500,500),transform(div_test2,Center,Center,0,100),div_test2.style.zIndex=1e3,setImage(div_test2,"");let test={x:100,y:100};function run(){"game"===scene?sGame():"title"===scene?sTitle():"ranking"===scene?sRanking():"result"===scene&&sResult()}const screenWidth=540,screenHeight=1012;let screenLong,windowWidthBasic=(screenLong=screenWidth>=screenHeight?"width":"height",null),windowHeightBasic=null,windowWidth=window.innerWidth,windowHeight=window.innerHeight,ri=0,screenScale=40;const rotate_switch=["0","0"];function monitorResize(){phoneCheck(),windowWidth=window.innerWidth,windowHeight=window.innerHeight,windowWidthBasic===windowWidth&&windowHeightBasic===windowHeight||(windowWidthBasic=window.innerWidth,windowHeightBasic=window.innerHeight,(windowWidth>=windowHeight&&"width"==screenLong||windowWidth<=windowHeight&&"height"==screenLong)&&(ri=0),screenScale=windowWidth/windowHeight>=screenWidth/screenHeight?windowHeight/screenHeight*100:windowWidth/screenWidth*100,transform(screen,Center,Center,0,screenScale)),setImage(screen,"sys/screen.webp")}function RemoveAll(){allDiv.forEach(e=>{Remove(e)})}function redirectPC(){window.location.href="pcInformation/index.html"}window.addEventListener("touchstart",function(e){e.target.closest(".swal2-container")||e.preventDefault()},{passive:!1}),window.oncontextmenu=function(e){return e.stopPropagation(),!1},phone?setTimeout(()=>{setInterval("move()",fps2)},10):setTimeout(()=>{redirectPC()},500);